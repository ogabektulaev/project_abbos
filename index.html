<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Welcome</title>
    <style>
      body {
        font-family: "Georgia", serif;
        margin: 0;
        padding: 0;
        background-color: #ffffff;
        color: #000000;
        overflow-x: hidden;
      }

      section {
        height: 100vh;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
      }

      /* Welcome section - keeping white background */
      #welcome {
        background-color: #ffffff;
      }

      .menu-container h1 {
        font-size: 3rem;
        font-weight: normal;
        margin: 0;
        position: absolute;
        top: 10%;
        left: 50%;
        transform: translateX(-50%);
      }

      .menu-container a {
        display: inline-block;
        margin: 10px 0;
        padding: 10px 20px;
        font-size: 1.2rem;
        color: #000000;
        text-decoration: none;
        border: 2px solid #000000;
        border-radius: 5px;
        transition: all 0.3s ease;
      }

      .menu-container a:hover {
        background-color: #000000;
        color: #ffffff;
      }

      /* Age Calculator section - light warm background */
      .age-calculator {
        width: 100%;
        background-color: #f5f3f0;
        text-align: center;
        padding: 20px;
      }

      /* Category Checker section - light cool background */
      .category-checker {
        width: 100%;
        background-color: #d8e4e8;
        text-align: center;
        padding: 20px;
      }

      .age-calculator h2,
      .category-checker h2 {
        font-size: 2rem;
        margin-bottom: 20px;
      }

      form {
        display: flex;
        flex-direction: column;
        align-items: center;
      }

      .input-group {
        display: flex;
        justify-content: center;
        gap: 20px;
        margin-bottom: 15px;
      }

      .input-group div {
        display: flex;
        flex-direction: column;
        align-items: center;
      }

      input,
      select {
        margin: 5px;
        padding: 10px;
        font-size: 1rem;
        border: 1px solid #ccc;
        border-radius: 5px;
        width: 200px;
      }

      button {
        margin-top: 10px;
        padding: 10px 20px;
        font-size: 1rem;
        color: #ffffff;
        background-color: #000000;
        border: none;
        border-radius: 5px;
        cursor: pointer;
      }

      button:hover {
        background-color: #444444;
      }

      #result,
      #category-result {
        font-family: "Courier New", monospace;
        font-size: 1.5rem;
      }

      .bold-number {
        font-weight: bold;
      }
    </style>
  </head>
  <body>
    <section id="welcome">
      <div class="menu-container">
        <h1>Xush kelibsiz, Abbos Nazarovich!</h1>
        <div style="margin-top: 120px">
          <a href="#age-calculator" id="ageCalculatorLink"
            >Bitirish Kalkulyatori</a
          >
          <a href="#category-checker" id="categoryCheckerLink"
            >Toifa Tekshiruvchisi</a
          >
        </div>
      </div>
    </section>

    <section id="age-calculator" class="age-calculator">
      <h2>Bitirish Kalkulyatori</h2>
      <form onsubmit="calculateGraduationAge(event)">
        <div class="input-group">
            <div>
                <label for="dob-date">Boshlanish sanasi</label>
                <input type="date" id="dob-date" required />
              </div>
              <div>
                <label for="grad-date">Tugash sanasi</label>
                <input type="date" id="grad-date" required />
              </div>
        </div>
        <button type="submit">Hisoblash</button>
        <button type="button" onclick="clearFields()">Tozalash</button>
      </form>
      <p id="result"></p>
    </section>

    <section id="category-checker" class="category-checker">
      <h2>Toifa Tekshiruvchisi</h2>
      <br />
      <br />
      <form onsubmit="checkCategory(event)">
        <div class="input-group">
          <div>
            <label for="start-date">Boshlanish sanasi</label>
            <input type="date" id="start-date" required />
          </div>
          <div>
            <label for="end-date">Tugash sanasi</label>
            <input type="date" id="end-date" required />
          </div>
        </div>
        <label for="category">Toifani tanlang</label>
        <select id="category" required>
          <option value="A">Toifa A</option>
          <option value="B">Toifa B</option>
          <option value="C">Toifa C</option>
          <option value="B and C">Toifa B va C</option>
        </select>
        <button type="submit">Tekshirish</button>
        <button type="button" onclick="clearFields()">Tozalash</button>
      </form>
      <p id="category-result"></p>

      <h3>Toifa ma'lumotlari</h3>
      <table
        border="1"
        style="
          margin: 20px auto;
          border-collapse: collapse;
          width: 40%;
          height: 20%;
          text-align: center;
        "
      >
        <thead>
          <tr>
            <th>Toifa</th>
            <th>Talab qilingan kunlar</th>
            <th>Talab qilingan haftalar</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>A</td>
            <td>63 kun</td>
            <td>9 hafta</td>
          </tr>
          <tr>
            <td>B</td>
            <td>126 kun</td>
            <td>18 hafta</td>
          </tr>
          <tr>
            <td>C</td>
            <td>154 kun</td>
            <td>22 hafta</td>
          </tr>
          <tr>
            <td>B va C</td>
            <td>168 kun</td>
            <td>24 hafta</td>
          </tr>
        </tbody>
      </table>
    </section>

    <script>

    function clearFields() {
        // Clear date inputs
        document.getElementById('start-date').value = '';
        document.getElementById('end-date').value = '';
        document.getElementById('dob-date').value = '';
        document.getElementById('grad-date').value = '';
    }


      // Smooth Scroll Function
      document
        .getElementById("ageCalculatorLink")
        .addEventListener("click", function (event) {
          event.preventDefault();
          const target = document.getElementById("age-calculator");

          window.scrollTo({
            top: target.offsetTop,
            behavior: "smooth",
          });
        });

      document
        .getElementById("categoryCheckerLink")
        .addEventListener("click", function (event) {
          event.preventDefault();
          const target = document.getElementById("category-checker");

          window.scrollTo({
            top: target.offsetTop,
            behavior: "smooth",
          });
        });

      function calculateGraduationAge(event) {
        event.preventDefault();

        // const dobDay = parseInt(document.getElementById("dob-day").value);
        // const dobMonth = parseInt(document.getElementById("dob-month").value);
        // const dobYear = parseInt(document.getElementById("dob-year").value);

        // const gradDay = parseInt(document.getElementById("grad-day").value);
        // const gradMonth = parseInt(document.getElementById("grad-month").value);
        // const gradYear = parseInt(document.getElementById("grad-year").value);

        const dob = new Date(document.getElementById("dob-date").value);
        const gradDate = new Date(document.getElementById("grad-date").value);

        if (dob > gradDate) {
          document.getElementById("result").innerHTML =
            "Bitirish sanasi tug'ilgan sanadan oldin bo'lishi mumkin emas!";
          return;
        }

        let ageYears = gradDate.getFullYear() - dob.getFullYear();
        let ageMonths = gradDate.getMonth() - dob.getMonth();

        if (ageMonths < 0) {
          ageYears--;
          ageMonths += 12;
        }

        document.getElementById(
          "result"
        ).innerHTML = `Siz bitirganingizda <span class="bold-number">${ageYears}</span> yosh va <span class="bold-number">${ageMonths}</span> oylik edingiz.`;
      }

      function checkCategory(event) {
        event.preventDefault();

        const startDate = new Date(document.getElementById("start-date").value);
        const endDate = new Date(document.getElementById("end-date").value);
        const category = document.getElementById("category").value;

        if (startDate > endDate) {
          document.getElementById("category-result").innerHTML =
            "Tugash sanasi boshlanish sanasidan oldin bo'lishi mumkin emas!";
          return;
        }

        const daysStudied = (endDate - startDate) / (1000 * 60 * 60 * 24);
        const weeksStudied = Math.round(daysStudied / 7);

        let isValid = false;
        let daysNeed = 0;
        let weeksNeed = 0;

        switch (category) {
          case "A":
            isValid = daysStudied >= 63 || weeksStudied >= 9;
            daysNeed = 63;
            weeksNeed = 9;
            break;
          case "B":
            isValid = daysStudied >= 126 || weeksStudied >= 18;
            daysNeed = 126;
            weeksNeed = 18;
            break;
          case "C":
            isValid = daysStudied >= 154 || weeksStudied >= 22;
            daysNeed = 154;
            weeksNeed = 22;
            break;
          case "B and C":
            isValid = daysStudied >= 168 || weeksStudied >= 24;
            daysNeed = 168;
            weeksNeed = 24;
            break;
        }

        if (isValid) {
          document.getElementById(
            "category-result"
          ).innerHTML = `Tabriklaymiz! Siz <span class="bold-number">${category}</span> toifa talablariga javob berasiz. 
                        <br><br>Siz <span class="bold-number">${weeksStudied} hafta</span> yoki <span class="bold-number">${daysStudied} kun</span> o'qidingiz. 
                        <br><span class="bold-number">${category}</span> toifani yakunlash uchun <span class="bold-number">${weeksNeed} hafta</span> yoki <span class="bold-number">${daysNeed} kun</span> talab qilinadi.`;
        } else {
          document.getElementById(
            "category-result"
          ).innerHTML = `Afsuski, siz <span class="bold-number">${category}</span> toifa talablariga javob bermaysiz.
                        <br><br>Siz <span class="bold-number">${weeksStudied} hafta</span> yoki <span class="bold-number">${daysStudied} kun</span> o'qidingiz. 
                        <br><span class="bold-number">${category}</span> toifani yakunlash uchun <span class="bold-number">${weeksNeed} hafta</span> yoki <span class="bold-number">${daysNeed} kun</span> talab qilinadi.`;
        }
      }
    </script>
  </body>
</html>
