<!DOCTYPE html>
<html>
  <head>
    <title>Login Page</title>
    <!-- Add Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/8.6.5/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.6.5/firebase-auth.js"></script>

    <script>
      // Initialize Firebase with your project's config
      var firebaseConfig = {
        apiKey: "AIzaSyCIShLaGint52snMfp6txUDLH3-qqbvJxA",
        authDomain: "test-abbos.firebaseapp.com",
        projectId: "test-abbos",
        storageBucket: "test-abbos.firebasestorage.app",
        messagingSenderId: "878512105415",
        appId: "1:878512105415:web:4e574b43087f2ab8349be2",
        measurementId: "G-QFN9JGXF9E",
      };
      firebase.initializeApp(firebaseConfig);
    </script>

    <script>
      // Function to check if a user is logged in or not
      function checkAuthState() {
        firebase.auth().onAuthStateChanged(function (user) {
          if (user) {
            // User is signed in, proceed to the website
            window.location.href = "index.html";
          } else {
            // No user is signed in, stay on the login page
          }
        });
      }

      // Function to handle the login form submission
      function login() {
        var email = document.getElementById("email").value;
        var password = document.getElementById("password").value;

        firebase
          .auth()
          .signInWithEmailAndPassword(email, password)
          .then(function () {
            // Login successful, redirect to the homepage
            window.location.href = "index.html";
          })
          .catch(function (error) {
            // Handle errors here
            var errorCode = error.code;
            var errorMessage = error.message;
            console.log("Login error:", errorCode, errorMessage);
          });
      }
    </script>
  </head>
  <body onload="checkAuthState()">
    <h1>Login Page</h1>
    <form>
      <label for="email">Email:</label>
      <input type="email" id="email" required /><br /><br />
      <label for="password">Password:</label>
      <input type="password" id="password" required /><br /><br />
      <button type="button" onclick="login()">Login</button>
    </form>
  </body>
</html>
